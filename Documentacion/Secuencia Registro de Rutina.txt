title Diagrama de registro de rutina de ejercicio
Usuario->MenuPrincipal:Click "Registrar Rutina"
MenuPrincipal->ViewRenderer:setCurrentView("registrarRutina")
ViewRenderer->RegistroRutina:Renderizar selector rutinas
RegistroRutina->Firestore:getDocs(rutinas)
Firestore-->RegistroRutina:Lista de rutinas
Usuario->RegistroRutina:Selecciona rutina
RegistroRutina->CalculoDinamico:Inicializar cÃ¡lculo con rutina seleccionada
CalculoDinamico->Firestore:getDoc(ejercicios/ejercicioId) para cada ejercicio
CalculoDinamico->Firestore:getDocs(ejercicios/ejercicioId/entrenamientos)
Firestore-->CalculoDinamico:Datos ejercicio + historial entrenamientos
CalculoDinamico->CalculoDinamico:Calcular objetivos (peso, reps, sets)
note over CalculoDinamico:nuevoVolumen = volumenAnterior * 1.05\npesoSugerido = pesoAnterior * 1.02
loop Para cada ejercicio en rutina
    CalculoDinamico->Usuario:Mostrar objetivos ejercicio actual
    Usuario->CalculoDinamico:Registra repeticiones alcanzadas
    Usuario->CalculoDinamico:Click "Registrar Set"
    alt Si volumen >= objetivo OR sets >= sugeridos
        CalculoDinamico->Firestore:addDoc(ejercicios/id/entrenamientos, datosSet)
        CalculoDinamico->CalculoDinamico:Siguiente ejercicio
    else
        CalculoDinamico->CalculoDinamico:Siguiente set del mismo ejercicio
    end
end
CalculoDinamico->ViewRenderer:setCurrentView("menuPrincipal")
note over Usuario:Rutina completada y guardada
